# Variables globales
@host = http://localhost:8080
@keycloak_host = https://e73d150e7cc3.ngrok-free.app
@user = proveedor-prueba@example.com
@pass = 123
@client_id = gateway-client

### 1. Obtener token de Keycloak
# @name login
POST {{keycloak_host}}/realms/marketplace-realm/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded

grant_type=password&client_id={{client_id}}&username={{user}}&password={{pass}}

### Asignar variable auth_token autom√°ticamente
@auth_token = {{login.response.body.$.access_token}}


### 2. GET Pagos del usuario 35
GET {{host}}/payment-service/payments/user/35
Authorization: Bearer {{auth_token}}
Content-Type: application/json


### 3. GET Pagos por ID
GET {{host}}/payment-service/payments/3
Authorization: Bearer {{auth_token}}
Content-Type: application/json


### 4. Realizar pago con tarjeta
POST {{host}}/payment-service/payments/4/pay/1234567812345678
Authorization: Bearer {{auth_token}}
Content-Type: application/json

